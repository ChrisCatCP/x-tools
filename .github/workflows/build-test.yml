name: build-test
on:
  workflow_dispatch: # Enables manually

env:
  GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}

jobs:
  build:
    name: Build
    runs-on: ubuntu-latest
    steps:
      - name: checkout
        uses: actions/checkout@v4
      - name: build docker image
        run: |
          docker pull ghcr.io/x-tools-author/x-tools-ubuntu-20.04:x86_64
          docker run --rm -v ${{ github.workspace }}:/workspace ghcr.io/x-tools-author/x-tools-ubuntu-20.04:x86_64 /bin/bash -c "cd /workspace && ./scripts/ci-build-ubuntu-20.04.sh"
